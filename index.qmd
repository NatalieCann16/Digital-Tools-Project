---
title: ""
format: 
  html:
    page-layout: full
    theme: yeti
    css: styles.css
---


![](frontpagebanneralt.png)

<h2 style="text-align: center;">Welcome to ViruScan</h2>

This website is made to simulate a contact tracing app's surveillance dashboards for Natalie Cann's EPID 8110 Digital Tools in Health Research Course Project. 

<h2 style="text-align: center;">Weekly Dashboard Overview</h2>
::: {.columns}
::: {.column width="65%"}
```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(ggplot2)
library(dplyr)
library(tidyr)

set.seed(789)

# Create mock 7-day dataset
virus_data <- data.frame(
  Date = seq.Date(from = Sys.Date()-6, to = Sys.Date(), by = "day"),
  Flu = sample(150:200, 7, replace = TRUE),          # highest
  COVID19 = sample(100:140, 7, replace = TRUE),      # second highest
  Cold = sample(50:100, 7, replace = TRUE),          # third
  RSV = sample(20:50, 7, replace = TRUE)             # lowest
)

# Convert to long format for plotting
virus_long <- virus_data %>%
  pivot_longer(cols = -Date, names_to = "Virus", values_to = "Cases")

# Plot
virus_plot <- ggplot(virus_long, aes(x = Date, y = Cases, color = Virus)) +
  geom_line(linewidth = 1.2) +
  geom_point(size = 3) +
  labs(
    title = "Respiratory Virus Cases at \n\ UGA Over the Past Week",
    x = "Date",
    y = "Number of Cases",
    color = "Virus:"
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(face = "bold", hjust = 0.5, size = 18),
    axis.text.x = element_text(angle = 45, hjust = 1),
    legend.position = "bottom"
  ) +
  scale_color_manual(values = c(
    "Flu" = "#008cba",    
    "COVID19" = "#84cdb5",  
    "Cold" = "#78c2db",     
    "RSV" = "#b7e1d4"        
  ))

virus_plot
```
```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(htmltools)

tags$div(
  style = "margin-top:8px; padding:6px; border-radius:8px; 
           background-color:#b7e1d4; width:90%; text-align:center;
           box-shadow:0 2px 5px rgba(0,0,0,0.1); font-family:Arial;",
  tags$a(
    href = "https://healthcenter.uga.edu/",
    target = "_blank",
    style = "text-decoration:none; font-size:16px; font-weight:bold; color:#000000;",
    "Visit the University of Georgia's Health Center"
  )
)
```
:::

::: {.column width="35%"}
```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(htmltools)

# Summarize total cases in past week for each virus
weekly_totals <- virus_long %>%
  group_by(Virus) %>%
  summarise(Total = sum(Cases), .groups = "drop")

# Create a styled summary box
tags$div(
  style = "margin-top:15px; padding:15px; border-radius:8px; 
           background-color:#b7e1d4; width:100%; 
           box-shadow:0 2px 5px rgba(0,0,0,0.1); font-family:Arial;",
  tags$h4(paste("Diagnosed Cases in Past 7 Days (As of November 13th, 2025)", sep=""), 
          style="font-weight:bold;"),
  lapply(1:nrow(weekly_totals), function(i) {
    tags$p(
      paste(weekly_totals$Virus[i], ":", format(weekly_totals$Total[i], big.mark=",")),
      style="margin:3px 0;"
    )
  })
)
```
```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(dplyr)
library(tidyr)
library(htmltools)

set.seed(42)

# --- Create 4 weeks of mock data ---
virus_data4w <- data.frame(
  Date = seq.Date(from = Sys.Date()-27, to = Sys.Date(), by = "day"),
  Flu = sample(150:200, 28, replace = TRUE),
  COVID19 = sample(100:140, 28, replace = TRUE),
  Cold = sample(50:100, 28, replace = TRUE),
  RSV = sample(20:50, 28, replace = TRUE)
)

virus_long4w <- virus_data4w %>%
  pivot_longer(cols = -Date, names_to = "Virus", values_to = "Cases")

# --- Define current week vs previous 3 weeks ---
current_week <- max(virus_long4w$Date) - 6   # last 7 days
trend_data <- virus_long4w %>%
  mutate(Period = ifelse(Date >= current_week, "CurrentWeek", "Prev3Weeks")) %>%
  group_by(Virus, Period) %>%
  summarise(Total = sum(Cases), .groups = "drop") %>%
  pivot_wider(names_from = Period, values_from = Total) %>%
  mutate(
    AvgPrevWeek = round(Prev3Weeks / 3, 1), # avg per week of previous 3
    PctChange = round(((CurrentWeek - AvgPrevWeek) / AvgPrevWeek) * 100, 1) # %
  )

# --- Styled summary box ---
tags$div(
  style = "margin-top:15px; padding:15px; border-radius:8px; 
           background-color:#C7E6F0; width:100%; 
           box-shadow:0 2px 5px rgba(0,0,0,0.1); font-family:Arial;",
  tags$h4(paste("Virus Trends From Past Three Weeks (As of November 13th, 2025)"), 
          style="font-weight:bold;"),
  lapply(1:nrow(trend_data), function(i) {
    pct <- trend_data$PctChange[i]
    color <- ifelse(pct >= 0, "#000000", "#000000")
  
    tags$p(
      paste0(trend_data$Virus[i], ": ", 
             ifelse(pct > 0, paste0("+", pct, "%"), paste0(pct, "%"))
      ),
      style = paste0("margin:4px 0; font-size:18px; font-weight:bold; color:", color, ";")
    )
  })
)
```
:::

<h2 style="text-align: center;">Sign-up For ViruScan</h2>

<img src="ticketraffle.png" alt="" style="float: right; margin-left: 20px; width: 300px;">

Sign up for ViruScan today in order to protect yourself and your community! 

In the act of doing so, you can win FREE student football tickets (or gift cards) to University of Georgia home games! All you have to do is be active registrated with ViruScan and share your location through UGA Safe. Each week before a home game, a set number of students will be randomly selected to receive a free ticket for the upcoming game. Notification of award will occur via email. 

```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(htmltools)

tags$p(
  "For instructions on how to download and set-up ViruScan please click ",
  tags$a(
    href = "https://nataliecann16.github.io/Digital-Tools-Project/about.html#how-to-download",
    target = "_blank",
    "here"
  ),
  "."
)
```



